{"ast":null,"code":"import _taggedTemplateLiteral from\"/home/yogesh/listtsk/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";import _classCallCheck from\"/home/yogesh/listtsk/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/yogesh/listtsk/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/yogesh/listtsk/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/yogesh/listtsk/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/home/yogesh/listtsk/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/yogesh/listtsk/node_modules/@babel/runtime/helpers/esm/inherits\";function _templateObject(){var data=_taggedTemplateLiteral([\"\\n@import \\\"bourbon\\\";\\n\\nbody {\\n\\tbackground: #eee !important;\\t\\n}\\n\\n.wrapper {\\t\\n\\tmargin-top: 80px;\\n  margin-bottom: 80px;\\n}\\n\\n.form-signin {\\n  max-width: 380px;\\n  padding: 15px 35px 45px;\\n  margin: 0 auto;\\n  background-color: #fff;\\n  border: 1px solid rgba(0,0,0,0.1);  \\n\\n  .form-signin-heading,\\n\\t.checkbox {\\n\\t  margin-bottom: 30px;\\n\\t}\\n\\n\\t.checkbox {\\n\\t  font-weight: normal;\\n\\t}\\n\\n\\t.form-control {\\n\\t  position: relative;\\n\\t  font-size: 16px;\\n\\t  height: auto;\\n\\t  padding: 10px;\\n\\t\\t@include box-sizing(border-box);\\n\\n\\t\\t&:focus {\\n\\t\\t  z-index: 2;\\n\\t\\t}\\n\\t}\\n\\n\\tinput[type=\\\"text\\\"] {\\n\\t  margin-bottom: -1px;\\n\\t  border-bottom-left-radius: 0;\\n\\t  border-bottom-right-radius: 0;\\n\\t}\\n\\n\\tinput[type=\\\"password\\\"] {\\n\\t  margin-bottom: 20px;\\n\\t  border-top-left-radius: 0;\\n\\t  border-top-right-radius: 0;\\n\\t}\\n}\\n\\n\"]);_templateObject=function _templateObject(){return data;};return data;}import React,{Component}from'react';import styled from'styled-components';import{BrowserRouter,Route}from'react-router-dom';import{withRouter,Redirect}from'react-router-dom';import axios from'axios';var LoginForm=/*#__PURE__*/function(_Component){_inherits(LoginForm,_Component);function LoginForm(props){var _this;_classCallCheck(this,LoginForm);_this=_possibleConstructorReturn(this,_getPrototypeOf(LoginForm).call(this,props));_this.state={email:'',password:'',redirectTo:null};_this.onChangeemail=_this.onChangeemail.bind(_assertThisInitialized(_this));_this.onChangepassword=_this.onChangepassword.bind(_assertThisInitialized(_this));return _this;}_createClass(LoginForm,[{key:\"onChangeemail\",value:function onChangeemail(e){this.setState({email:e.target.value});}},{key:\"onChangepassword\",value:function onChangepassword(e){this.setState({password:e.target.value});}},{key:\"handleSubmit\",value:function handleSubmit(event){var _this2=this;event.preventDefault();console.log('handleSubmit');axios.post('http://localhost:8080/login',{email:this.state.email,password:this.state.password}).then(function(response){console.log('login response: ');console.log(response);if(response.status===200){localStorage.setItem('usertoken',response.data);_this2.props.history.push('/courses');}}).catch(function(error){console.log('login error: ');console.log(error);});}},{key:\"render\",value:function render(){return React.createElement(LoginWrapper,null,React.createElement(\"div\",{class:\"wrapper\"},React.createElement(\"form\",{className:\"form-signin\",onSubmit:this.handleSubmit.bind(this)},React.createElement(\"h2\",{className:\"form-signin-heading\"},\"Please login\"),React.createElement(\"input\",{type:\"text\",className:\"form-control\",name:\"email\",placeholder:\"Email Address\",value:this.state.email,onChange:this.onChangeemail,required:\"\",autofocus:\"\"}),React.createElement(\"input\",{type:\"password\",className:\"form-control\",name:\"password\",placeholder:\"Password\",value:this.state.password,onChange:this.onChangepassword,required:\"\"}),React.createElement(\"button\",{className:\"btn btn-lg btn-primary btn-block\",type:\"submit\"},\"Login\"))));}}]);return LoginForm;}(Component);export default withRouter(LoginForm);var LoginWrapper=styled.div(_templateObject());","map":{"version":3,"sources":["/home/yogesh/listtsk/src/components/login-form.js"],"names":["React","Component","styled","BrowserRouter","Route","withRouter","Redirect","axios","LoginForm","props","state","email","password","redirectTo","onChangeemail","bind","onChangepassword","e","setState","target","value","event","preventDefault","console","log","post","then","response","status","localStorage","setItem","data","history","push","catch","error","handleSubmit","LoginWrapper","div"],"mappings":"uuDAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,MAAP,KAAmB,mBAAnB,CACA,OAASC,aAAT,CAAwBC,KAAxB,KAAqC,kBAArC,CACA,OAAQC,UAAR,CAAoBC,QAApB,KAAoC,kBAApC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,GAEMC,CAAAA,S,mEACF,mBAAYC,KAAZ,CAAmB,2CACf,2EAAMA,KAAN,GACA,MAAKC,KAAL,CAAa,CACTC,KAAK,CAAE,EADE,CAETC,QAAQ,CAAE,EAFD,CAGTC,UAAU,CAAE,IAHH,CAAb,CAKA,MAAKC,aAAL,CAAqB,MAAKA,aAAL,CAAmBC,IAAnB,+BAArB,CACA,MAAKC,gBAAL,CAAwB,MAAKA,gBAAL,CAAsBD,IAAtB,+BAAxB,CARe,aASlB,C,0EAEaE,C,CAAG,CACb,KAAKC,QAAL,CAAc,CACZP,KAAK,CAAEM,CAAC,CAACE,MAAF,CAASC,KADJ,CAAd,EAGD,C,0DAEgBH,C,CAAG,CAClB,KAAKC,QAAL,CAAc,CACZN,QAAQ,CAAEK,CAAC,CAACE,MAAF,CAASC,KADP,CAAd,EAGD,C,kDAEUC,K,CAAO,iBAChBA,KAAK,CAACC,cAAN,GACAC,OAAO,CAACC,GAAR,CAAY,cAAZ,EAEAjB,KAAK,CACAkB,IADL,CACU,6BADV,CACyC,CACjCd,KAAK,CAAE,KAAKD,KAAL,CAAWC,KADe,CAEjCC,QAAQ,CAAE,KAAKF,KAAL,CAAWE,QAFY,CADzC,EAKKc,IALL,CAKU,SAAAC,QAAQ,CAAI,CACdJ,OAAO,CAACC,GAAR,CAAY,kBAAZ,EACAD,OAAO,CAACC,GAAR,CAAYG,QAAZ,EAEA,GAAIA,QAAQ,CAACC,MAAT,GAAoB,GAAxB,CAA6B,CACzBC,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAkCH,QAAQ,CAACI,IAA3C,EACA,MAAI,CAACtB,KAAL,CAAWuB,OAAX,CAAmBC,IAAnB,CAAwB,UAAxB,EACH,CACJ,CAbL,EAaOC,KAbP,CAaa,SAAAC,KAAK,CAAI,CACdZ,OAAO,CAACC,GAAR,CAAY,eAAZ,EACAD,OAAO,CAACC,GAAR,CAAYW,KAAZ,EAEH,CAjBL,EAkBH,C,uCAEQ,CACD,MACI,qBAAC,YAAD,MACR,2BAAK,KAAK,CAAC,SAAX,EACJ,4BAAM,SAAS,CAAC,aAAhB,CAA8B,QAAQ,CAAE,KAAKC,YAAL,CAAkBrB,IAAlB,CAAuB,IAAvB,CAAxC,EACE,0BAAI,SAAS,CAAC,qBAAd,iBADF,CAEE,6BAAO,IAAI,CAAC,MAAZ,CACA,SAAS,CAAC,cADV,CAEC,IAAI,CAAC,OAFN,CAGC,WAAW,CAAC,eAHb,CAIC,KAAK,CAAE,KAAKL,KAAL,CAAWC,KAJnB,CAKE,QAAQ,CAAE,KAAKG,aALjB,CAME,QAAQ,CAAC,EANX,CAOE,SAAS,CAAC,EAPZ,EAFF,CAUE,6BAAO,IAAI,CAAC,UAAZ,CACA,SAAS,CAAC,cADV,CAEC,IAAI,CAAC,UAFN,CAGC,WAAW,CAAC,UAHb,CAIC,KAAK,CAAE,KAAKJ,KAAL,CAAWE,QAJnB,CAKA,QAAQ,CAAE,KAAKI,gBALf,CAMC,QAAQ,CAAC,EANV,EAVF,CAiBE,8BAAQ,SAAS,CAAC,kCAAlB,CAAqD,IAAI,CAAC,QAA1D,UAjBF,CADI,CADQ,CADJ,CA0BP,C,uBA3EmBf,S,EA8ExB,cAAeI,CAAAA,UAAU,CAACG,SAAD,CAAzB,CAGA,GAAM6B,CAAAA,YAAY,CAAGnC,MAAM,CAACoC,GAAV,mBAAlB","sourcesContent":["import React, { Component } from 'react'\nimport styled from 'styled-components';\nimport { BrowserRouter, Route } from 'react-router-dom'\nimport {withRouter, Redirect } from 'react-router-dom'\nimport axios from 'axios'\n\nclass LoginForm extends Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            email: '',\n            password: '',\n            redirectTo: null\n        }\n        this.onChangeemail = this.onChangeemail.bind(this)\n        this.onChangepassword = this.onChangepassword.bind(this)\n    }\n\n    onChangeemail(e) {\n        this.setState({\n          email: e.target.value\n        })\n      }  \n\n      onChangepassword(e) {\n        this.setState({\n          password: e.target.value\n        })\n      }  \n\n    handleSubmit(event) {\n        event.preventDefault()\n        console.log('handleSubmit')\n\n        axios\n            .post('http://localhost:8080/login', {\n                email: this.state.email,\n                password: this.state.password\n            })\n            .then(response => {\n                console.log('login response: ')\n                console.log(response)\n                \n                if (response.status === 200) {\n                    localStorage.setItem('usertoken', response.data)\n                    this.props.history.push('/courses')\n                }\n            }).catch(error => {\n                console.log('login error: ')\n                console.log(error);\n                \n            })\n    }\n\n    render() {\n            return (\n                <LoginWrapper>\n        <div class=\"wrapper\">\n    <form className=\"form-signin\" onSubmit={this.handleSubmit.bind(this)}>       \n      <h2 className=\"form-signin-heading\">Please login</h2>\n      <input type=\"text\" \n      className=\"form-control\"\n       name=\"email\" \n       placeholder=\"Email Address\"\n       value={this.state.email}\n        onChange={this.onChangeemail}\n        required=\"\" \n        autofocus=\"\" />\n      <input type=\"password\" \n      className=\"form-control\"\n       name=\"password\" \n       placeholder=\"Password\" \n       value={this.state.password}\n      onChange={this.onChangepassword}\n       required=\"\"/>      \n      <button className=\"btn btn-lg btn-primary btn-block\" type=\"submit\">Login</button>   \n    </form>\n  </div>\n            </LoginWrapper>\n        )\n        \n    }\n}\n\nexport default withRouter(LoginForm);\n\n\nconst LoginWrapper = styled.div`\n@import \"bourbon\";\n\nbody {\n\tbackground: #eee !important;\t\n}\n\n.wrapper {\t\n\tmargin-top: 80px;\n  margin-bottom: 80px;\n}\n\n.form-signin {\n  max-width: 380px;\n  padding: 15px 35px 45px;\n  margin: 0 auto;\n  background-color: #fff;\n  border: 1px solid rgba(0,0,0,0.1);  \n\n  .form-signin-heading,\n\t.checkbox {\n\t  margin-bottom: 30px;\n\t}\n\n\t.checkbox {\n\t  font-weight: normal;\n\t}\n\n\t.form-control {\n\t  position: relative;\n\t  font-size: 16px;\n\t  height: auto;\n\t  padding: 10px;\n\t\t@include box-sizing(border-box);\n\n\t\t&:focus {\n\t\t  z-index: 2;\n\t\t}\n\t}\n\n\tinput[type=\"text\"] {\n\t  margin-bottom: -1px;\n\t  border-bottom-left-radius: 0;\n\t  border-bottom-right-radius: 0;\n\t}\n\n\tinput[type=\"password\"] {\n\t  margin-bottom: 20px;\n\t  border-top-left-radius: 0;\n\t  border-top-right-radius: 0;\n\t}\n}\n\n`;\n"]},"metadata":{},"sourceType":"module"}